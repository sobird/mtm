"use strict";(window.webpackJsonp_mtm=window.webpackJsonp_mtm||[]).push([[613],{5779:(h,n,s)=>{s.d(n,{Z:()=>l});var e=s(85893),u=s(28182);const i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAP8A/wD/oL2nkwAABBFJREFUOMtllE1sFGUAht/vm/nmd3dnp9vd7S5sqyg/tqjFRoOAphhISIwJStQYEj2YkHDQxMDBiCG9IF6MB+NBYkwMNziYEMFeRDEq/tSgRQFLsd1us233d3Znd2dm5+fzJAF878+T9/K+BPeEcxCcOiSWxvJpz7L3d8qNVziTnfi6zGm1kLmw2p1tT0ycCggBv5Mjd0s4uXbuyHhrqXG8WmzubVZd3ZNVyKYBgQOG4jeGtwx9lc0V3s3tfmvxTpbelkxNUfe3twvLJefYhRm2v9b29XFWxvbKdWy3/sJTmxyskPTApV+9g4vltdd44xPjfyLOOakfMDb/ctV/b/4f78CwWsOTvSIwvQa64iCYraPy/vfYlyyCawpuzFnvXLm4fNgqnjTvaXSW1a3W69M/sYOnLymYTK8i/LsDMa8hsnyENQ9MoWhMz+HpgoWPzovSH7dwslry93I+RQGAcoAsnJu+36msbVnoGhgxXYS2C3KzBVJxIQzrYCM6WDtE73IZedWGJAv4s2UicjtPYBaDACB+OzUpZC33MOs7zwryevRCDimlwU4pCJMC2AYVUkpH6HMoFYpQACiNwKgPgzlHSjV+68yZF0+JmdFJ2rfmHyd+D9mshItXEmhqcWDHIALLg6QyEEMFnRiEkdBxsylhuRRiOM9h19ogxN+2oWlSagxU4yJhjzAe4NFCD6UKw/TXAnRCoQsywrkugpk6ghUPrNzBF+cJuoGMjQNNiF4XJPLGDK9EKdqAKEaaasgYi1ewcXMCv//MEfxYQt/pwRMDkDiHoklwfljDzCUbe/ckkEYLAmWQDLnfH4pxkQdSTwiDsqhF6wckH6/uE3BiJo+p2gTyXQemxMEUhraooGhlUTZzeGOiiVSKQHSBMIpWRzeYXPQH1ITEzHTg2BA6bezKL+HNo0NYuspRrMVQuM+C5/iYnY9hMVDw8nMaHk4Vwdt9RAoDi0mb5iuEina638loscu85k52V5qQwwZe2GwjHFfQrK9hIA4EfeAZ30coM6TcBUjtFvq6jMF1JiJFOPvgjp0BAYDGtRNb4dQ/9zv1xzqLTfitHpKjGYiUwu/YoCIDM+MIvRCdhQZoyoSc1EHj2sdpiR8nYx82KACY3J/rVJ3vfI9CzsahpDVw30cYhRDiBoguo1e14VTbkHJJSKYOz/IC3sdVjF5p355IQ4KSfGBod2I4C8g6xGQSnFP4XQ9hP0C/aiNodiHIMngUgdIIqa3rRZbRx5eXt7HbN8I5J41rRx8igXvMrTaeJ4GvIooQOCEQhqCSDKqqIKoIUdcAJXaTKvJnrtr7NJf7oE4I+N1/NHOIzX65aFLV3aVktJ0R2Cj1g4KgsJqQiF0XNG0+sN1vpBHtRm5ij0fIS+F/7L9Jbt0tQ6waowAAAABJRU5ErkJggg==",l=({children:t,hasWindow:d=!0,hasBackground:A=!0})=>(0,e.jsxs)("div",{className:"layout-base",children:[(0,e.jsx)("div",{className:"base-header",children:(0,e.jsx)("div",{className:"base-header-box",children:(0,e.jsx)("img",{src:u})})}),(0,e.jsx)("div",{className:"base-body",style:{background:A?"":"none"},children:d?(0,e.jsx)("div",{className:"base-body-box",children:(0,e.jsx)("div",{className:"base-window",children:t})}):t}),(0,e.jsx)("div",{className:"base-footer",children:(0,e.jsxs)("div",{className:"copyright",children:[(0,e.jsx)("a",{target:"_blank",href:"https://beian.miit.gov.cn",rel:"noreferrer",children:(0,e.jsx)("span",{children:"\xA92020 meituan.com \u4EACICP\u590710211739\u53F7"})}),(0,e.jsx)("img",{src:i}),(0,e.jsx)("a",{target:"_blank",href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11000002002052",rel:"noreferrer",children:(0,e.jsx)("span",{children:"\u4EAC\u516C\u7F51\u5B89\u590711000002002052\u53F7"})})]})})]})},89613:(h,n,s)=>{s.r(n),s.d(n,{default:()=>N});var e=s(85893),u=s(67294),i=s(89250),c=s(31955),l=s(34041),t=s(45360),d=s(95187),A=s(80521),B=s(5779),x=s(44082),j=s(28815),b=s(17476),D=s(98724),y=s(53416);const f="JWT_SECRET_KEY";async function M(a={}){return await new D.N6(a).setProtectedHeader({alg:"HS256"}).setExpirationTime("2h").setJti((0,y.x0)()).sign(new TextEncoder().encode(f))}async function R(a){return(await jwtVerify(a,new TextEncoder().encode(f))).payload}async function P(a){const{mobile:r}=a;return b.ZP.post("/login",a).then(async v=>{const F=await M({mobile:r});v.token=F})}var p=s(71504),T=s(5966),w=s(16434);const{Option:m}=l.default;function J(){const a=(0,i.s0)(),[r]=p.A.useForm(),[v,F]=(0,u.useState)(!1),I=async o=>{const{captcha:C,mobile:E,interCode:g}=o,S=c.Z.get("captcha");if(t.ZP.destroy(),!(0,x.Z)(E,g)){const Q="\u624B\u673A\u53F7\u683C\u5F0F\u4E0D\u7B26\u5408\u8981\u6C42";t.ZP.error(Q);return}if(S!=C){t.ZP.error("\u9A8C\u8BC1\u7801\u9519\u8BEF");return}F(!0),P(o).then(()=>{F(!1),a("/")})},Y=(0,e.jsx)(p.A.Item,{noStyle:!0,name:"interCode",children:(0,e.jsxs)(l.default,{popupMatchSelectWidth:!1,bordered:!1,onClick:o=>{o.stopPropagation()},optionLabelProp:"label",onSelect:()=>{r.validateFields(["mobile"])},children:[(0,e.jsx)(m,{value:"86",label:"+86",children:"+86(\u4E2D\u56FD)"}),(0,e.jsx)(m,{value:"65",label:"+65",children:"+65(\u65B0\u52A0\u5761)"}),(0,e.jsx)(m,{value:"852",label:"+852",children:"+852(\u4E2D\u56FD\u9999\u6E2F)"}),(0,e.jsx)(m,{value:"853",label:"+853",children:"+853(\u4E2D\u56FD\u6FB3\u95E8)"})]})});return(0,e.jsx)(B.Z,{children:(0,e.jsxs)("div",{className:"base-login",children:[(0,e.jsx)("div",{className:"base-title",children:"\u767B\u5F55"}),(0,e.jsxs)(p.A,{form:r,name:"base-form-login",initialValues:{interCode:"86"},onFinish:I,colon:!1,className:"base-form",layout:"horizontal",submitter:{searchConfig:{resetText:"\u91CD\u7F6E",submitText:"\u63D0\u4EA4"},resetButtonProps:{style:{display:"none"}},submitButtonProps:{},render:(o,C)=>(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(d.ZP,{style:{marginTop:20},loading:v,type:"primary",htmlType:"submit",className:"base-submit-btn",children:"\u767B\u5F55"}),(0,e.jsx)("div",{className:"signup-btn",children:(0,e.jsxs)("div",{children:["\u8FD8\u6CA1\u6709\u8D26\u53F7\uFF1F",(0,e.jsx)("a",{href:"/#/register",target:"_blank",children:"\u514D\u8D39\u6CE8\u518C"})]})})]})},children:[(0,e.jsx)(T.Z,{name:"mobile",fieldProps:{prefix:Y,addonBefore:(0,e.jsx)(A.Z,{})},allowClear:!1,placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7"}),(0,e.jsx)(w.Z,{label:"\u9A8C\u8BC1\u7801",name:"captcha",phoneName:"mobile",fieldProps:{},captchaProps:{size:"small",type:"link",style:{padding:0}},placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",onGetCaptcha:async o=>{const C=r.getFieldValue("interCode");if(!(0,x.Z)(o,C)){const g="\u624B\u673A\u53F7\u683C\u5F0F\u4E0D\u7B26\u5408\u8981\u6C42";throw t.ZP.error(g),new Error(g)}const E=await j.Z.get(o);t.ZP.success(`\u3010\u7F8E\u56E2\u3011${E.captcha}\uFF08\u5546\u6237\u6CE8\u518C\u9A8C\u8BC1\u7801\uFF09\u3002\u5DE5\u4F5C\u4EBA\u5458\u4E0D\u4F1A\u5411\u60A8\u7D22\u8981\uFF0C\u8BF7\u52FF\u5411\u4EFB\u4F55\u4EBA\u6CC4\u9732\uFF0C\u4EE5\u514D\u9020\u6210\u8D26\u6237\u6216\u8D44\u91D1\u635F\u5931\u3002`,5)}})]})]})})}const N=J},28815:(h,n,s)=>{s.d(n,{Z:()=>c});var e=s(31955),u=s(17476);const c={async get(l){const t=Math.random()*899999+1e5,d=parseInt(t,10);return u.ZP.get("/captcha",{mobile:l}).then(A=>(A.captcha=d,e.Z.set("captcha",d),A))}}},44082:(h,n,s)=>{s.d(n,{Z:()=>u});const e={86:/^((\+|00)86)?(1[3-9]|9[28])\d{9}$/,65:/^(\+65)?[3689]\d{7}$/,852:/^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,853:/^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,886:/^(\+?886\-?|0)?9\d{8}$/};function u(i,c=86){return e[c].test(i)}},28182:(h,n,s)=>{h.exports=s.p+"assets/cf9cc9b39bb413973082.png"}}]);

//# sourceMappingURL=/613.bc1b0871b13a2325fb70.chunk.js.map