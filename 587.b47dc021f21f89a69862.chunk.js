"use strict";(window.webpackJsonp_mtm=window.webpackJsonp_mtm||[]).push([[587],{39595:(F,a,e)=>{e.d(a,{Z:()=>r});var u=e(85893),s=e(80403),o=e(28182);const r=({children:C})=>{const l=[{label:"\u9000\u51FA\u767B\u5F55",key:"1"}],p=({key:D})=>{};return(0,u.jsxs)("div",{className:"layout-entry",children:[(0,u.jsx)("div",{className:"entry-header",children:(0,u.jsxs)("div",{className:"entry-header-box",children:[(0,u.jsxs)("div",{className:"header-logo",children:[(0,u.jsx)("img",{className:"logo",src:o}),(0,u.jsx)("span",{children:"\u5546\u5BB6\u5165\u9A7B\u5E73\u53F0"})]}),(0,u.jsx)("div",{className:"header-item",children:(0,u.jsx)(s.Z,{menu:{items:l,onClick:p},children:(0,u.jsx)("span",{className:"username",children:"sobird"})})})]})}),(0,u.jsx)("div",{className:"entry-body",children:C})]})}},37587:(F,a,e)=>{e.r(a),e.d(a,{default:()=>K});var u=e(85893),s=e(67294),o=e(89250),y=e(78256),r=e(64631),C=e(45360),l=e(27784),p=e(35137),D=e(30385),T=e(95187),f=e(55742),g=e(3685),I=e(39595),d=e(17476);const O={get(A){return d.ZP.get("/merchant/category",{parentId:A})}},k={get(){return d.ZP.get("/merchant/entry/task")}},S={get(){return d.ZP.get("/merchant/entry/type")}};var x=e(25275),v=e(79258);const{Column:j}=y.default;function M(){const A=(0,o.s0)(),[L,R]=(0,s.useState)([]),[N,U]=(0,s.useState)([]),[z,H]=(0,s.useState)(),[W,B]=(0,s.useState)(!1),[m]=r.Z.useForm();(0,s.useEffect)(()=>{Promise.all([O.get(),k.get()]).then(([t,E])=>{const n=(0,v.O)(t);R(n),x.Z.get(E.entryTaskId).then(({baseInfo:c})=>{const P=[c.category];let h=t.find(i=>i.id===c.category).parentId;for(;h;){const i=t.find(G=>G.id===h);P.unshift(i.id),h=i.parentId}m.setFieldsValue({...c,category:P,entryTaskId:E.entryTaskId})})}),S.get().then(t=>{U(t)})},[]);const J=t=>{const{category:E,poiType:n}=t;if(!E){C.ZP.error("\u8BF7\u9009\u62E9\u4E3B\u8425\u7C7B\u76EE");return}if(!n){C.ZP.error("\u8BF7\u9009\u62E9\u5E97\u94FA\u7C7B\u578B");return}x.Z.patch({baseInfo:{category:E[E.length],poiType:n}}).then(()=>{A("/settleinjx/company")})},V=N.map(t=>({value:t.poiType,label:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("span",{className:"title",children:["\u4F01\u4E1A",t.poiTypeName]}),(0,u.jsx)("span",{className:"desc",children:t.poiTypeDesc})]})})),Z=[{key:1,poiTypeName:"\u4F01\u4E1A\u65D7\u8230\u5E97",poiTypeDesc:"\u7ECF\u8425\u4E00\u4E2A\u54C1\u724C\u5546\u54C1\u7684\u65D7\u8230\u5E97"},{key:2,poiTypeName:"\u4F01\u4E1A\u65D7\u8230\u5E97",poiTypeDesc:"\u7ECF\u8425\u591A\u4E2A\u54C1\u724C\u5546\u54C1\uFF0C\u4E14\u5404\u54C1\u724C\u5F52\u5C5E\u4E8E\u540C\u4E00\u5B9E\u9645\u63A7\u5236\u4EBA\u7684\u65D7\u8230\u5E97"},{key:3,poiTypeName:"\u4F01\u4E1A\u65D7\u8230\u5E97",poiTypeDesc:"\u5356\u573A\u578B\u54C1\u724C\uFF08\u670D\u52A1\u7C7B\u5546\u6807\uFF09\u5546\u6807\u6743\u5229\u4EBA\u5F00\u8BBE\u7684\u65D7\u8230\u5E97"},{key:4,poiTypeName:"\u4F01\u4E1A\u4E13\u5356\u5E97",poiTypeDesc:"\u7ECF\u8425\u4E00\u4E2A\u6388\u6743\u54C1\u724C\u7684\u5546\u54C1\uFF0C\u4F46\u672A\u83B7\u5F97\u54C1\u724C\uFF08\u6CE8\u518C\u5546\u6807\uFF09\u6743\u5229\u4EBA\u72EC\u5360\u6388\u6743\u5165\u9A7B\u7F8E\u56E2\u5F00\u653E\u5E73\u53F0\u7684\u5546\u5BB6\u4E13\u5356\u5E97"},{key:5,poiTypeName:"\u4F01\u4E1A\u4E13\u5356\u5E97",poiTypeDesc:"\u7ECF\u8425\u591A\u4E2A\u6388\u6743\u54C1\u724C\u7684\u5546\u54C1\uFF0C\u4E14\u5404\u54C1\u724C\u5F52\u540C\u4E00\u5B9E\u9645\u63A7\u5236\u4EBA\u7684\u5546\u5BB6\u4E13\u5356\u5E97"},{key:6,poiTypeName:"\u4F01\u4E1A\u4E13\u8425\u5E97",poiTypeDesc:"\u7ECF\u8425\u591A\u4E2A\u81EA\u6709\u54C1\u724C\u5546\u54C1\u7684\u4E13\u8425\u5E97"},{key:7,poiTypeName:"\u4F01\u4E1A\u4E13\u8425\u5E97",poiTypeDesc:"\u7ECF\u8425\u591A\u4E2A\u6388\u6743\u54C1\u724C\u5546\u54C1\uFF0C\u6301\u6709\u76F8\u5E94\u6CE8\u518C\u5546\u6807\u6743\u5229\u4EBA\u51FA\u5177\u7684\u9500\u552E\u6388\u6743\u6587\u4EF6"},{key:8,poiTypeName:"\u4F01\u4E1A\u4E13\u8425\u5E97",poiTypeDesc:"\u540C\u65F6\u7ECF\u8425\u81EA\u6709\u54C1\u724C\u5546\u54C1\u548C\u6388\u6743\u54C1\u724C\u5546\u54C1\u7684\u4E13\u8425\u5E97"},{key:9,poiTypeName:"\u4F01\u4E1A\u5DE5\u5382\u5E97",poiTypeDesc:"\u7ECF\u8425\u4E00\u4E2A\u6216\u591A\u4E2A\u54C1\u724C\u5546\u54C1\u7684\u5DE5\u5382\u5E97"},{key:10,poiTypeName:"\u4F01\u4E1A\u5DE5\u5382\u5E97",poiTypeDesc:"\u7ECF\u8425\u5546\u54C1\u7684\u5546\u6807\u6301\u6709\u4EBA\u6216\u6301\u6709\u76F8\u5E94\u6CE8\u518C\u5546\u6807\u6743\u5229\u4EBA\u51FA\u5177\u7684\u9500\u552E\u6388\u6743\u6587\u4EF6"},{key:11,poiTypeName:"\u4F01\u4E1A\u5DE5\u5382\u5E97",poiTypeDesc:"\u7ECF\u8425\u5546\u54C1\u5747\u4E3A\u81EA\u4E3B\u751F\u4EA7\u7684\u5DE5\u5382\u5E97"}],X=(0,v.D)(Z,"poiTypeName");return(0,u.jsxs)(I.Z,{children:[(0,u.jsxs)("div",{className:"entry-shop",children:[(0,u.jsx)("div",{className:"entry-shop-tips",children:(0,u.jsx)(l.Z,{message:"\u76EE\u524D\u5E73\u53F0\u4EC5\u5F00\u653E\u6570\u7801\u5BB6\u7535/\u529E\u516C\u3001\u5BA0\u7269\u751F\u6D3B\u3001\u6BCD\u5A74\u73A9\u5177\u3001\u670D\u9970\u978B\u5305\u3001\u8FD0\u52A8\u6237\u5916\u3001\u6C7D\u914D\u6469\u6258\u3001\u533B\u836F\u5065\u5EB7\u7C7B\u76EE\u7684\u5546\u5BB6\u81EA\u5165\u9A7B\uFF0C\u5176\u4F59\u7C7B\u76EE\u9080\u7EA6\u5236\u5165\u9A7B\u8BF7\u52FF\u63D0\u4EA4\u7533\u8BF7\u3002\u5165\u9A7B\u5BA1\u6838\u65F6\u6548\u9884\u8BA1\u57287\u4E2A\u5DE5\u4F5C\u65E5\u5185\uFF0C\u611F\u8C22\u652F\u6301\u3002",type:"info",showIcon:!0})}),(0,u.jsxs)("div",{className:"entry-shop-main",children:[(0,u.jsx)("h2",{children:"\u8BF7\u9009\u62E9\u60A8\u7684\u5E97\u94FA\u7C7B\u578B\u53CA\u4E3B\u8425\u7C7B\u76EE"}),(0,u.jsx)(p.Z,{children:(0,u.jsxs)(r.Z,{form:m,onFinish:J,layout:"vertical",children:[(0,u.jsx)(r.Z.Item,{name:"category",label:"\u4E3B\u8425\u7C7B\u76EE",children:(0,u.jsx)(D.Z,{options:L,fieldNames:{label:"name",value:"id"},placeholder:"\u4E3B\u8425\u7C7B\u76EE\u51B3\u5B9A\u60A8\u5E97\u94FA\u7684\u7ECF\u8425\u8303\u56F4\uFF0C\u8BF7\u8C28\u614E\u9009\u62E9",style:{width:430}})}),(0,u.jsx)(r.Z.Item,{name:"poiType",label:(0,u.jsxs)(u.Fragment,{children:["\u5E97\u94FA\u7C7B\u578B",(0,u.jsx)(T.ZP,{onClick:()=>B(!0),type:"link",className:"how-select",children:"\u8BE5\u5982\u4F55\u9009\u62E9\uFF1F"})]}),children:(0,u.jsx)(f.ZP.Group,{onChange:t=>{const{value:E}=t.target,n=N.find(c=>c.poiType==E);g.Z.warning({title:`\u786E\u5B9A\u66F4\u6539\u5E97\u94FA\u7C7B\u578B\u4E3A ${n.poiTypeName} \uFF1F`,content:"\u6E29\u99A8\u63D0\u793A\uFF1A\u5982\u679C\u66F4\u6362\u5E97\u94FA\u7C7B\u578B\uFF0C\u5E97\u94FA\u540D\u79F0\u4F1A\u88AB\u6E05\u7A7A\uFF0C\u9700\u91CD\u65B0\u4E0A\u4F20",okText:"\u786E\u5B9A"})},options:V,className:"shop-type-radio"})})]})})]}),(0,u.jsx)("div",{className:"entry-footer",children:(0,u.jsx)(T.ZP,{type:"primary",onClick:()=>{m.submit()},children:"\u4E0B\u4E00\u6B65"})})]}),(0,u.jsx)(g.Z,{title:"\u4F01\u4E1A\u5E97\u94FA\u7C7B\u578B\u548C\u8D44\u8D28\u8BF4\u660E",centered:!0,open:W,onOk:()=>B(!1),onCancel:()=>B(!1),width:1e3,okText:"\u6211\u77E5\u9053\u4E86",children:(0,u.jsxs)(y.default,{bordered:!0,pagination:!1,dataSource:Z,children:[(0,u.jsx)(j,{title:"\u5E97\u94FA\u7C7B\u578B",dataIndex:"poiTypeName",render:(t,E,n)=>({children:t,props:{rowSpan:X[n]}})},"poiTypeName"),(0,u.jsx)(j,{title:"\u5E97\u94FA\u8BF4\u660E",dataIndex:"poiTypeDesc"},"poiTypeDesc")]})})]})}const K=M},25275:(F,a,e)=>{e.d(a,{Z:()=>s});var u=e(17476);const s={get(o){return u.ZP.get("/merchant/entry",{entryTaskId:o})},patch(o){return u.ZP.patch("/merchant/entry",o)}}},28182:(F,a,e)=>{F.exports=e.p+"assets/cf9cc9b39bb413973082.png"}}]);

//# sourceMappingURL=/587.b47dc021f21f89a69862.chunk.js.map