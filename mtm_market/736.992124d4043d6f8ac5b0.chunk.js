"use strict";(window.webpackJsonp_mtm_market=window.webpackJsonp_mtm_market||[]).push([[736],{2736:(N,C,t)=>{t.r(C),t.d(C,{default:()=>k});var e=t(5893),l=t(9018),O=t(6502);const U=(o,a)=>({fieldProps:m,proFieldProps:P,...c})=>(console.log(a,m,P,c),(0,e.jsx)(O.Z,{valueType:a,render:(B,i)=>{const{mode:h}=i;return(0,e.jsx)(o,{text:B,mode:h,fieldProps:i})},renderFormItem:(B,i)=>{const{mode:h}=i;return(0,e.jsx)(o,{text:B,mode:h,fieldProps:i})},fieldProps:m,proFieldProps:P,...c}));var D=t(599),I=t.n(D),r=t(4047),T=t(869);const b=({text:o,mode:a,render:n,placeholder:m,renderFormItem:P,fieldProps:c},B)=>{var i,h,L,f;const{value:W,defaultValue:p,onChange:g,id:V,validator:j=[]}=c,[A,K]=(0,D.useState)([]),[E,s]=(0,T.Z)(()=>p,{value:W,onChange:g});if(a==="read"){const x=(0,e.jsxs)("span",{ref:B,children:["\u6EE1",o[0],"\u51CF",o[1]]});return n?n(o,{mode:a,...c},x):x}if(a==="edit"||a==="update"){const x=()=>{if(Array.isArray(E)){const[d,M]=E;typeof d=="number"&&typeof M=="number"&&d>M?s([M,d]):d===void 0&&M===void 0&&s(void 0)}},F=(d,M)=>{var J;const Y=[...E||[]];Y[d]=M===null?void 0:M,s(Y),A[d]={...(J=j[d])==null?void 0:J.call(j,Y)},K(A)},y=c?.placeholder||m||["\u8BF7\u8F93\u5165\u6EE1\u51CF\u95E8\u69DB","\u8BF7\u8F93\u5165\u4F18\u60E0\u91D1\u989D"],Z=d=>Array.isArray(y)?y[d]:y,{className:q,...G}=c,H=(0,e.jsxs)(r.Space,{size:10,className:q,children:[(0,e.jsx)(r.Form.Item,{label:"\u6EE1",htmlFor:`${V}-0`,validateStatus:(i=A[0])==null?void 0:i.status,help:(h=A[0])==null?void 0:h.help,children:(0,e.jsx)(r.InputNumber,{style:{width:"100%"},prefix:"\uFFE5",min:0,max:5e3,...G,placeholder:Z(0),id:`${V}-0`,value:E?.[0],defaultValue:p?.[0],onChange:d=>F(0,d)})}),(0,e.jsx)(r.Form.Item,{label:"\u51CF",htmlFor:`${V}-1`,validateStatus:(L=A[1])==null?void 0:L.status,help:(f=A[1])==null?void 0:f.help,children:(0,e.jsx)(r.InputNumber,{prefix:"\uFFE5",style:{width:"100%"},min:0,max:5e3,...G,placeholder:Z(1),id:`${V}-1`,value:E?.[1],defaultValue:p?.[1],onChange:d=>F(1,d)})})]});return P?P(o,{mode:a,...c},H):H}return null},u=async(o,a)=>{const[n,m]=a;if(!n&&n!==0)throw new Error("\u8BF7\u8F93\u5165\u6EE1\u51CF\u95E8\u69DB");if(!m&&m!==0)throw new Error("\u8BF7\u8F93\u5165\u4F18\u60E0\u91D1\u989D")},R=[o=>{const[a,n]=o;if(!a&&a!==0)return{status:"error",help:"\u8BF7\u8F93\u5165\u6EE1\u51CF\u95E8\u69DB"}},o=>{const[a,n]=o;if(!n&&n!==0)return{status:"error",help:"\u8BF7\u8F93\u5165\u4F18\u60E0\u91D1\u989D"};if(n<.01)return{status:"error",help:"\u9762\u989D\u6700\u5C0F\u503C\u662F0.01\u5143"};if(a===0){if(n>500)return{status:"error",help:"\u95E8\u69DB\u4E3A0\u65F6\uFF0C\u9762\u989D\u9700\u5C0F\u4E8E\u7B49\u4E8E500\u5143"};n>10}}],_=I().forwardRef(b),v=U(_,"AmountRule");var w=t(7484),X=t.n(w);const{RangePicker:Q}=r.DatePicker,z=U(({text:o,mode:a,fieldProps:n,render:m,renderFormItem:P})=>{const{value:c=[],onChange:B,defaultValue:i}=n,h=[...c],[L,f]=h;f&&(h[1]=f?.map(j=>X()(j)));const[W,p]=(0,D.useState)(c[1]?2:1),[g,V]=(0,D.useState)(h);if(a==="read"){const j=(0,e.jsx)("span",{children:f?f.join(" - "):L});return m?m(o,{mode:a,...n},j):j}if(a==="edit"||a==="update"){const j=s=>{p(s.target.value),A(s.target.value,g)},A=(s,x)=>{const F=[...x||[]],[,y]=F;y&&(F[1]=y?.map(Z=>Z.format("YYYY-MM-DD"))),s===1?F[1]=void 0:F[0]=void 0,B?.(F)},K=(s,x)=>{const F=[...g||[]];F[s]=x===null?void 0:x,V(F),A(W,F)},E=(0,e.jsx)(r.Radio.Group,{value:W,onChange:j,children:(0,e.jsxs)(r.Space,{direction:"vertical",children:[(0,e.jsx)(r.Radio,{value:1,children:(0,e.jsxs)(r.Space,{children:[(0,e.jsx)("span",{children:"\u9886\u53D6\u540E"}),(0,e.jsx)(r.InputNumber,{addonAfter:"\u5929",min:1,max:30,value:g?.[0],defaultValue:i?.[0],onChange:s=>K(0,s)})]})}),(0,e.jsx)(r.Radio,{value:2,children:(0,e.jsxs)(r.Space,{children:[(0,e.jsx)("span",{children:"\u81EA\u5B9A\u4E49"}),(0,e.jsx)(Q,{value:g?.[1],defaultValue:i?.[1],onChange:s=>K(1,s)})]})})]})});return P?P(o,{mode:a,...n},E):E}},"UseTerm");var $=t(2655);const S={labelCol:{span:4},wrapperCol:{span:14}},k=()=>{const[o]=l.ProForm.useForm(),a=(n,m)=>{o.validateFields(),console.log("values",n,m)};return(0,e.jsx)("div",{className:"page-coupon-detail",children:(0,e.jsxs)(l.ProForm,{layout:"horizontal",...S,form:o,request:()=>$.ZP.detail(123),onFinish:a,children:[(0,e.jsx)(l.ProFormText,{readonly:!0,getValueProps:n=>({value:$.rg[n]}),width:"md",name:"type",label:"\u4F18\u60E0\u5238\u7C7B\u578B"}),(0,e.jsx)(l.ProFormText,{width:"lg",name:"name",label:"\u4F18\u60E0\u5238\u540D\u79F0",placeholder:"\u8BF7\u586B\u5199\u4F18\u60E0\u5238\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u4F18\u60E0\u5238\u540D\u79F0"},{max:10,message:"\u4F18\u60E0\u5238\u540D\u79F0\u6700\u591A\u586B\u519910\u4E2A\u5B57"}]}),(0,e.jsx)(v,{placeholder:"test",readonly:!0,name:"test",label:"123456"}),(0,e.jsx)(v,{fieldProps:{validator:R},placeholder:"12",name:"test",label:"InputAmountRule",width:"lg"}),(0,e.jsx)(z,{readonly:!0,name:"useTerm",fieldProps:{b:"b"},label:"\u53EA\u8BFB\u6A21\u5F0F",width:"lg"}),(0,e.jsx)(z,{name:"useTerm",fieldProps:{b:"b"},label:"ProFormUseTerm",width:"lg"}),(0,e.jsx)(l.ProFormDigitRange,{separatorWidth:40,name:"name2",label:"ProFormDigitRange",width:"lg",required:!0}),(0,e.jsx)(l.ProFormDateTimeRangePicker,{required:!0,width:"lg",name:"dateRange",label:"\u53D1\u653E\u65F6\u95F4"}),(0,e.jsx)(l.ProFormDigit,{label:"\u53D1\u653E\u5F20\u6570",name:"putCount",width:"lg",min:1,max:1e6})]})})}},2655:(N,C,t)=>{t.d(C,{QO:()=>r,ZP:()=>b,ee:()=>I,rg:()=>O,ui:()=>D,z2:()=>U});var e=t(8892),l=t(8219),O=(u=>(u[u.\u6EE1\u51CF\u5238=0]="\u6EE1\u51CF\u5238",u[u.\u6298\u6263\u5238=1]="\u6298\u6263\u5238",u))(O||{}),U=(u=>(u[u.\u5E97\u94FA\u5546\u54C1\u5238=1]="\u5E97\u94FA\u5546\u54C1\u5238",u[u.\u5E97\u94FA\u901A\u7528\u5238=2]="\u5E97\u94FA\u901A\u7528\u5238",u[u.\u5E97\u94FA\u5BA2\u670D\u4F53\u9A8C\u5238=3]="\u5E97\u94FA\u5BA2\u670D\u4F53\u9A8C\u5238",u))(U||{}),D=(u=>(u[u.\u5168\u90E8=-1]="\u5168\u90E8",u[u.\u672A\u5F00\u59CB=0]="\u672A\u5F00\u59CB",u[u.\u8FDB\u884C\u4E2D=1]="\u8FDB\u884C\u4E2D",u[u.\u5DF2\u7ED3\u675F=2]="\u5DF2\u7ED3\u675F",u[u.\u5DF2\u4E0B\u7EBF=6]="\u5DF2\u4E0B\u7EBF",u))(D||{});const I=[{value:-1,label:"\u5168\u90E8"},{value:0,label:"\u672A\u5F00\u59CB"},{value:1,label:"\u8FDB\u884C\u4E2D"},{value:2,label:"\u5DF2\u7ED3\u675F"},{value:6,label:"\u5DF2\u4E0B\u7EBF"}];var r=(u=>(u[u.gray=0]="gray",u[u.green=1]="green",u[u.blue=2]="blue",u[u.red=6]="red",u))(r||{});const b={async list(u){return e.ZP.get("/merchant/coupons",u).then(R=>{const{list:_=[]}=R;return R.list=_.map(v=>{const{ctime:w}=v;return v.ctimeLabel=(0,l.Z)(w).format(),v}),R})},detail(u){return e.ZP.get("/merchant/coupons",{id:u})},delete(u){return e.ZP.delete("/merchant/coupons",{id:u})},create(u){return e.ZP.post("/merchant/coupons",u)},update(u){return e.ZP.patch("/merchant/coupons",u)}}},8219:(N,C,t)=>{t.d(C,{Z:()=>R});var e=t(7484),l=t.n(e),O=t(3852),U=t.n(O),D=t(6833),I=t.n(D),r=t(6036),T=t.n(r);const{parse:b,format:u}=l().prototype;l().locale("zh-cn"),l().prototype.parse=function(_){const{date:v}=_;return Number.isInteger(v)&&String(v).length===10&&(_.date=l().unix(v)),b.bind(this)(_)},l().prototype.format=function(_="YYYY-MM-DD HH:mm:ss"){return u.bind(this)(_)},l().extend(I()),l().extend(T());const R=l()}}]);

//# sourceMappingURL=/736.992124d4043d6f8ac5b0.chunk.js.map