"use strict";(window.webpackJsonp_mtm_market=window.webpackJsonp_mtm_market||[]).push([[736],{2736:(L,y,a)=>{a.r(y),a.d(y,{default:()=>k});var e=a(5893),F=a(9018),w=a(6502);const b=(n,l)=>({fieldProps:d,proFieldProps:g,...m})=>(console.log(l,d,g,m),(0,e.jsx)(w.Z,{valueType:l,render:(j,i)=>{const{mode:v}=i;return(0,e.jsx)(n,{text:j,mode:v,fieldProps:i})},renderFormItem:(j,i)=>{const{mode:v}=i;return(0,e.jsx)(n,{text:j,mode:v,fieldProps:i})},fieldProps:d,proFieldProps:g,...m}));var V=a(599),_=a.n(V),r=a(4047),T=a(869);const u=({text:n,mode:l,render:t,placeholder:d,renderFormItem:g,fieldProps:m},j)=>{var i,v,C,f;const{value:U,defaultValue:x,onChange:A,id:R,validator:D=[]}=m,[E,Z]=(0,V.useState)([]),[h,o]=(0,T.Z)(()=>x,{value:U,onChange:A});if(l==="read"){const B=(0,e.jsxs)("span",{ref:j,children:["\u6EE1",n[0],"\u51CF",n[1]]});return t?t(n,{mode:l,...m},B):B}if(l==="edit"||l==="update"){const B=()=>{if(Array.isArray(h)){const[s,p]=h;typeof s=="number"&&typeof p=="number"&&s>p?o([p,s]):s===void 0&&p===void 0&&o(void 0)}},c=(s,p)=>{var z;const N=[...h||[]];N[s]=p===null?void 0:p,o(N),E[s]={...(z=D[s])==null?void 0:z.call(D,N)},Z(E)},P=m?.placeholder||d||["\u8BF7\u8F93\u5165\u6EE1\u51CF\u95E8\u69DB","\u8BF7\u8F93\u5165\u4F18\u60E0\u91D1\u989D"],I=s=>Array.isArray(P)?P[s]:P,{className:S,...Y}=m,$=(0,e.jsxs)(r.Space,{size:10,className:S,children:[(0,e.jsx)(r.Form.Item,{label:"\u6EE1",htmlFor:`${R}-0`,validateStatus:(i=E[0])==null?void 0:i.status,help:(v=E[0])==null?void 0:v.help,children:(0,e.jsx)(r.InputNumber,{style:{width:"100%"},prefix:"\uFFE5",min:0,max:5e3,...Y,placeholder:I(0),id:`${R}-0`,value:h?.[0],defaultValue:x?.[0],onChange:s=>c(0,s)})}),(0,e.jsx)(r.Form.Item,{label:"\u51CF",htmlFor:`${R}-1`,validateStatus:(C=E[1])==null?void 0:C.status,help:(f=E[1])==null?void 0:f.help,children:(0,e.jsx)(r.InputNumber,{prefix:"\uFFE5",style:{width:"100%"},min:0,max:5e3,...Y,placeholder:I(1),id:`${R}-1`,value:h?.[1],defaultValue:x?.[1],onChange:s=>c(1,s)})})]});return g?g(n,{mode:l,...m},$):$}return null},q=async(n,l)=>{const[t,d]=l;if(!t&&t!==0)throw new Error("\u8BF7\u8F93\u5165\u6EE1\u51CF\u95E8\u69DB");if(!d&&d!==0)throw new Error("\u8BF7\u8F93\u5165\u4F18\u60E0\u91D1\u989D")},G=[n=>{const[l,t]=n;if(!l&&l!==0)return{status:"error",help:"\u8BF7\u8F93\u5165\u6EE1\u51CF\u95E8\u69DB"}},n=>{const[l,t]=n;if(!t&&t!==0)return{status:"error",help:"\u8BF7\u8F93\u5165\u4F18\u60E0\u91D1\u989D"};if(t<.01)return{status:"error",help:"\u9762\u989D\u6700\u5C0F\u503C\u662F0.01\u5143"};if(l===0){if(t>500)return{status:"error",help:"\u95E8\u69DB\u4E3A0\u65F6\uFF0C\u9762\u989D\u9700\u5C0F\u4E8E\u7B49\u4E8E500\u5143"};t>10}}],J=_().forwardRef(u),M=b(J,"AmountRule");var K=a(7484),Q=a.n(K);const{RangePicker:X}=r.DatePicker,O=b(({text:n,mode:l,fieldProps:t,render:d,renderFormItem:g})=>{const{value:m=[],onChange:j,defaultValue:i}=t,v=[...m],[C,f]=v;f&&(v[1]=f?.map(D=>Q()(D)));const[U,x]=(0,V.useState)(m[1]?2:1),[A,R]=(0,V.useState)(v);if(l==="read"){const D=(0,e.jsx)("span",{children:f?f.join(" - "):C});return d?d(n,{mode:l,...t},D):D}if(l==="edit"||l==="update"){const D=o=>{x(o.target.value),E(o.target.value,A)},E=(o,B)=>{const c=[...B||[]],[,P]=c;P&&(c[1]=P?.map(I=>I.format("YYYY-MM-DD"))),o===1?c[1]=void 0:c[0]=void 0,j?.(c)},Z=(o,B)=>{const c=[...A||[]];c[o]=B===null?void 0:B,R(c),E(U,c)},h=(0,e.jsx)(r.Radio.Group,{value:U,onChange:D,children:(0,e.jsxs)(r.Space,{direction:"vertical",children:[(0,e.jsx)(r.Radio,{value:1,children:(0,e.jsxs)(r.Space,{children:[(0,e.jsx)("span",{children:"\u9886\u53D6\u540E"}),(0,e.jsx)(r.InputNumber,{addonAfter:"\u5929",min:1,max:30,value:A?.[0],defaultValue:i?.[0],onChange:o=>Z(0,o)})]})}),(0,e.jsx)(r.Radio,{value:2,children:(0,e.jsxs)(r.Space,{children:[(0,e.jsx)("span",{children:"\u81EA\u5B9A\u4E49"}),(0,e.jsx)(X,{value:A?.[1],defaultValue:i?.[1],onChange:o=>Z(1,o)})]})})]})});return g?g(n,{mode:l,...t},h):h}},"UseTerm");var W=a(2655);const H={labelCol:{span:4},wrapperCol:{span:14}},k=()=>{const[n]=F.ProForm.useForm(),l=(t,d)=>{n.validateFields(),console.log("values",t,d)};return(0,e.jsx)("div",{className:"page-coupon-detail",children:(0,e.jsxs)(F.ProForm,{layout:"horizontal",...H,form:n,request:()=>W.ZP.detail(123),onFinish:l,children:[(0,e.jsx)(F.ProFormText,{readonly:!0,getValueProps:t=>({value:W.rg[t]}),width:"md",name:"type",label:"\u4F18\u60E0\u5238\u7C7B\u578B"}),(0,e.jsx)(F.ProFormText,{width:"lg",name:"name",label:"\u4F18\u60E0\u5238\u540D\u79F0",placeholder:"\u8BF7\u586B\u5199\u4F18\u60E0\u5238\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u4F18\u60E0\u5238\u540D\u79F0"},{max:10,message:"\u4F18\u60E0\u5238\u540D\u79F0\u6700\u591A\u586B\u519910\u4E2A\u5B57"}]}),(0,e.jsx)(M,{placeholder:"test",readonly:!0,name:"test",label:"123456"}),(0,e.jsx)(M,{fieldProps:{validator:G},placeholder:"12",name:"test",label:"InputAmountRule",width:"lg"}),(0,e.jsx)(O,{readonly:!0,name:"useTerm",fieldProps:{b:"b"},label:"\u53EA\u8BFB\u6A21\u5F0F",width:"lg"}),(0,e.jsx)(O,{name:"useTerm",fieldProps:{b:"b"},label:"ProFormUseTerm",width:"lg"}),(0,e.jsx)(F.ProFormDigitRange,{separatorWidth:40,name:"name2",label:"ProFormDigitRange",width:"lg",required:!0}),(0,e.jsx)(F.ProFormDateTimeRangePicker,{required:!0,width:"lg",name:"dateRange",label:"\u53D1\u653E\u65F6\u95F4"}),(0,e.jsx)(F.ProFormDigit,{label:"\u53D1\u653E\u5F20\u6570",name:"putCount",width:"lg",min:1,max:1e6})]})})}},2655:(L,y,a)=>{a.d(y,{QO:()=>_,ZP:()=>T,rg:()=>F,ui:()=>b,z2:()=>w});var e=a(8892),F=(u=>(u[u.\u6EE1\u51CF\u5238=0]="\u6EE1\u51CF\u5238",u[u.\u6298\u6263\u5238=1]="\u6298\u6263\u5238",u))(F||{}),w=(u=>(u[u.\u5E97\u94FA\u901A\u7528\u5238=11]="\u5E97\u94FA\u901A\u7528\u5238",u[u.\u5E97\u94FA\u5BA2\u670D\u4F53\u9A8C\u5238=12]="\u5E97\u94FA\u5BA2\u670D\u4F53\u9A8C\u5238",u))(w||{}),b=(u=>(u[u.\u5168\u90E8=-1]="\u5168\u90E8",u[u.\u672A\u5F00\u59CB=0]="\u672A\u5F00\u59CB",u[u.\u8FDB\u884C\u4E2D=1]="\u8FDB\u884C\u4E2D",u[u.\u5DF2\u7ED3\u675F=2]="\u5DF2\u7ED3\u675F",u[u.\u5DF2\u4E0B\u7EBF=6]="\u5DF2\u4E0B\u7EBF",u))(b||{});const V=[{value:-1,label:"\u5168\u90E8"},{value:0,label:"\u672A\u5F00\u59CB"},{value:1,label:"\u8FDB\u884C\u4E2D"},{value:2,label:"\u5DF2\u7ED3\u675F"},{value:6,label:"\u5DF2\u4E0B\u7EBF"}];var _=(u=>(u[u.gray=0]="gray",u[u.green=1]="green",u[u.blue=2]="blue",u[u.red=6]="red",u))(_||{});const T={list(u){return e.ZP.get("/merchant/coupons",u)},detail(u){return e.ZP.get("/merchant/coupons",{id:u})},delete(u){return e.ZP.delete("/merchant/coupons",{id:u})},create(u){return e.ZP.post("/merchant/coupons",u)},update(u){return e.ZP.patch("/merchant/coupons",u)}}}}]);

//# sourceMappingURL=/736.713f8aa48f8bc55f5ff5.chunk.js.map