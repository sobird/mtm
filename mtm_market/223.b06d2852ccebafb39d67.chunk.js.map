{"version":3,"file":"223.b06d2852ccebafb39d67.chunk.js","mappings":"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","sources":["webpack:///./src/components/pro/field/UseTerm/index.tsx","webpack:///./src/layout/page-container/index.tsx","webpack:///./src/components/pro/form/index.tsx","webpack:///./src/utils/numeral.ts","webpack:///./src/components/pro/field/AmountRule/index.tsx","webpack:///./src/components/pro/form/AmountRule/index.tsx","webpack:///./src/components/pro/form/UseTerm/index.tsx","webpack:///./src/pages/coupon/components/coupon-form/index.tsx","webpack:///./src/pages/coupon/detail/index.tsx","webpack:///./src/services/coupon.ts"],"sourcesContent":["/**\n * 使用时间组件 优惠券使用时间\n *\n * Value: [3, [20220905, 20230905]]\n * Value[0] 和 Value[1] 互斥 不能同时设值\n *\n * sobird<i@sobird.me> at 2023/09/20 3:53:49 created.\n */\n\nimport { useState } from 'react';\nimport { Space, Radio, DatePicker, InputNumber } from 'antd';\nimport type { RadioChangeEvent } from 'antd';\nimport type { ProFieldFC } from '@ant-design/pro-components';\nimport dayjs, { Dayjs } from 'dayjs';\n\nconst { RangePicker } = DatePicker;\n\nexport type Value = string | number | undefined | null;\nexport type FieldValue = [number, [string, string]?];\nexport type RadioValue = 1 | 2;\n\nexport type FieldProps = {\n  text: FieldValue;\n};\n\nconst FieldUseTerm: ProFieldFC<FieldProps> = ({\n  text,\n  mode,\n  fieldProps,\n  render,\n  renderFormItem,\n}) => {\n  const { value = [], onChange, defaultValue } = fieldProps;\n  const newValue = [...value] as FieldValue;\n  const [day, rangePickerValue] = newValue;\n\n  if(rangePickerValue) {\n    newValue[1] = rangePickerValue?.map(item => dayjs(item));\n  }\n\n  const [radioValue, setRadioValue] = useState<RadioValue>(value[1] ? 2 : 1);\n  const [fieldValue, setFieldValue] = useState<FieldValue>(newValue);\n\n  if (mode === 'read') {\n    const dom = (\n      <span>\n        {rangePickerValue ? newValue[1].map(item => item.format()).join(' 到 ')  : `领取后 ${day || '-'} 天`}\n      </span>\n    );\n    if (render) {\n      return render(text, { mode, ...fieldProps }, dom);\n    }\n    return dom;\n  }\n\n  if (mode === 'edit' || mode === 'update') {\n    const onRadioChange = (e: RadioChangeEvent) => {\n      setRadioValue(e.target.value);\n      triggerChange(e.target.value, fieldValue);\n    };\n  \n    const triggerChange = (_radioValue: RadioValue, changedValue: FieldValue) => {\n      const newFieldValue = [...(changedValue || [])] as FieldValue;\n      const [, rangePickerValue] = newFieldValue;\n  \n      if(rangePickerValue) {\n        newFieldValue[1] = rangePickerValue?.map(item => item.format('YYYY-MM-DD'));\n      }\n  \n      if(_radioValue === 1) {\n        newFieldValue[1] = undefined;\n      } else {\n        newFieldValue[0] = undefined;\n      }\n  \n      onChange?.(newFieldValue);\n    };\n  \n    const handleChange = (index: number, changedValue) => {\n      const newFieldValue = [...(fieldValue || [])] as FieldValue;\n      newFieldValue[index] = changedValue === null ? undefined : changedValue;\n  \n      setFieldValue(newFieldValue);\n  \n      triggerChange(radioValue, newFieldValue);\n    };\n\n    const dom = (\n      <Radio.Group value={radioValue} onChange={onRadioChange}>\n        <Space direction='vertical'>\n          <Radio value={1}>\n            <Space>\n              <span>领取后</span>\n              <InputNumber \n              addonAfter='天' \n              min={1} \n              max={30} \n              value={fieldValue?.[0]}\n              defaultValue={defaultValue?.[0]}\n              onChange={changedValue => handleChange(0, changedValue)} \n              />\n            </Space>\n          </Radio>\n  \n          <Radio value={2}>\n            <Space>\n              <span>自定义</span>\n              <RangePicker value={fieldValue?.[1]} defaultValue={defaultValue?.[1]} onChange={changedValue => handleChange(1, changedValue)} />\n            </Space>\n          </Radio>\n        </Space>\n      </Radio.Group>\n    );\n\n    if (renderFormItem) {\n      return renderFormItem(text, { mode, ...fieldProps }, dom);\n    }\n  \n    return dom;\n  }\n};\n\nexport default FieldUseTerm;\n","/**\n * 页面头组件\n *\n * sobird<i@sobird.me> at 2023/10/07 15:39:45 created.\n */\n\nimport React, { ReactNode, PropsWithChildren } from 'react';\nimport { Link, createHashRouter } from 'react-router-dom';\nimport { Breadcrumb, BreadcrumbProps, Col, Row, Space } from 'antd';\nimport { RightOutlined } from '@ant-design/icons';\nimport './index.scss';\n\nconst router = createHashRouter([{}]);\n\ninterface PageContainerProps {\n  title?: ReactNode;\n  breadcrumb?: BreadcrumbProps;\n  description?: string;\n  extra?: ReactNode[];\n  icon?: ReactNode;\n}\n\nfunction itemRender(item, params, items, paths: string[]) {\n  let path = item.path;\n  const last = items.indexOf(item) === items.length - 1;\n  if (last) {\n    return <span>{item.title}</span>;\n  }\n  if (item.href) {\n    return (\n      <a\n        href={router.createHref({\n          pathname: item.href,\n        } as any)}\n        onClick={e => {\n          e.preventDefault();\n          router.navigate(item.href);\n        }}\n      >\n        {item.title}\n      </a>\n    );\n  }\n  \n  if (item.path?.indexOf('/') !== 0) {\n    path = '/' + paths.filter(item => item).join('/');\n  }\n  console.log('paths', JSON.stringify(paths), path);\n\n  return last ? (\n    <span>{item.title}</span>\n  ) : (\n    <Link to={path} relative='route'>\n      {item.title}\n    </Link>\n  );\n}\n\nconst PageContainer: React.FC<PropsWithChildren<PageContainerProps>> = ({\n  children,\n  breadcrumb,\n  title,\n  icon,\n  description,\n  extra,\n  ...props\n}) => {\n\n  return (\n    <div className='micro-page-container' {...props}>\n      <div className='micro-page-header'>\n        <Breadcrumb\n          className='micro-breadcrumb'\n          separator={<RightOutlined />}\n          itemRender={itemRender}\n          {...breadcrumb}\n        />\n        <Row className='micro-page-header-heading' align='middle'>\n          <Col flex={1}>\n            <h2>{typeof icon === 'string' ? <i className={`iconfont icon-${icon}`} /> : icon}{title}</h2>\n          </Col>\n          <Col>\n            <Space>{extra}</Space>\n          </Col>\n        </Row>\n        {description && <div className='micro-page-header-description'>{description}</div>}\n      </div>\n      <div className='micor-page-content'>{children}</div>\n    </div>\n  );\n};\n\nexport default PageContainer;\n","import React from 'react';\nimport type { InputProps } from 'antd';\nimport type { InputRef } from 'antd/lib/input';\nimport type { ProFormFieldItemProps } from '@ant-design/pro-form/es/typing';\nimport ProField from '@ant-design/pro-form/es/components/Field';\n\nexport const WrappedProFormField = (ProFieldComponent: React.ElementType, valueType?: string) => {\n  const ProFormField: React.FC<ProFormFieldItemProps<any, InputRef>> = ({\n    fieldProps,\n    proFieldProps,\n    ...rest\n  }: ProFormFieldItemProps<InputProps, InputRef>) => {\n    return (\n      <ProField\n        valueType={valueType}\n        render={\n          ((text: any, fieldProps: any, dom: React.ReactNode) => {\n            const { mode } = fieldProps;\n            return <ProFieldComponent text={text} mode={mode} fieldProps={fieldProps} />;\n          }) as any\n        }\n        renderFormItem={\n          ((text: any, fieldProps: any, dom: React.ReactNode) => {\n            const { mode } = fieldProps;\n            return <ProFieldComponent text={text} mode={mode} fieldProps={fieldProps} />;\n          }) as any\n        }\n        fieldProps={fieldProps}\n        // filedConfig={\n        //   {\n        //     valueType,\n        //   } as const\n        // }\n        proFieldProps={proFieldProps}\n        {...rest}\n      />\n    );\n  };\n\n  return ProFormField;\n};\n","/**\n * numeral.js\n * 初始化numeral默认配置，及对numeral扩展\n *\n * @example\n * 分转元\n * numeral(1000).divide(100).format('0.00') === 10;\n * 四舍五入两位小数\n * numeral(28.3656).format('0.00') === '28.37';\n * numeral(28.3656).round(2) === 28.37;\n *\n * 千分位格式化\n * numeral(10000000).format('0,0') === '10,000,000'\n *\n * @see https://github.com/adamwdraper/Numeral-js\n * sobird<i@sobird.me> at 2021/06/09 19:06:12 created.\n */\n\nimport numeral from 'numeral';\n\ndeclare module 'numeral' {\n  interface Numeral {\n    /**\n     * 根据 precision（精度） 四舍五入 number\n     * 注意与银行家舍入的区别\n     */\n    round(precision?: number): number | null;\n    isFloat(n?: any): boolean;\n  }\n  interface NumeralJSUtils {\n    insert: (string: string, subString: string, start: number) => string;\n    includes: (string: string, search: string) => boolean;\n    isNaN: (value: any) => boolean;\n    reduce: (array: [], callback: () => void) => any;\n    /**\n     * Computes the multiplier necessary to make x >= 1,\n     *\n     * effectively eliminating miscalculations caused by finite precision.\n     */\n    multiplier: (number: number) => number;\n\n    /**\n     * Given a variable number of arguments, returns the maximum\n     * multiplier that must be used to normalize an operation involving\n     * all of them.\n     */\n    correctionFactor: () => void;\n    /**\n     * Implementation of toFixed() that treats floats more like decimals\n     *\n     * Fixes binary rounding issues (eg. (0.615).toFixed(2) === '0.61') that present\n     * problems for accounting- and finance-related software.\n     */\n    toFixed: (\n      value: number,\n      maxDecimals: number,\n      roundingFunction: (number: number) => number,\n      optionals: number\n    ) => string;\n  }\n}\n\nexport const LOCALE = {\n  delimiters: {\n    thousands: ',',\n    decimal: '.',\n  },\n  abbreviations: {\n    thousand: '千',\n    million: '百万',\n    billion: '十亿',\n    trillion: '兆',\n  },\n  ordinal() {\n    return '.';\n  },\n  currency: {\n    symbol: '¥',\n  },\n};\n\nnumeral.register('locale', 'zh', LOCALE);\nnumeral.locale('zh');\n//numeral.zeroFormat('零');\nnumeral.nullFormat('');\n// numeral.defaultFormat('0.00');\n\n/**\n * 四舍五入\n *\n * @param precision\n * @returns\n */\nnumeral.fn.round = function (precision = 2) {\n  return Math.round(Math.pow(10, precision) * this.value()) / Math.pow(10, precision);\n};\n\nnumeral.fn.isFloat = function () {\n  const n: any = this.value();\n  return parseInt(n, 10) < parseFloat(n);\n};\n\n/**\n * 自定义格式化，这是一段示例代码\n *\n * @example\n * numeral(0.001).format('0.00&')\n */\nnumeral.register('format', 'custom formats', {\n  regexps: {\n    format: /(&)/,\n    unformat: /(&)/,\n  },\n  format(value, format, roundingFunction) {\n    const space = numeral._.includes(format, ' %') ? ' ' : '';\n    let output;\n    value *= 100;\n\n    // check for space before %\n    format = format.replace(/\\s?%/, '');\n\n    output = numeral._.numberToFormat(value, format, roundingFunction);\n\n    if (numeral._.includes(output, ')')) {\n      output = output.split('');\n      output.splice(-1, 0, `${space}%`);\n      output = output.join('');\n    } else {\n      output = `${output}${space}%`;\n    }\n\n    return output;\n  },\n  unformat(string) {\n    return numeral._.stringToNumber(string) * 0.01;\n  },\n});\n\nexport default numeral;\n","/**\n * 优惠券满减规则 自定义表单控件 跟业务耦合\n * \n * sobird<i@sobird.me> at 2023/09/18 21:05:33 created.\n */\n\nimport React, { useState } from 'react';\nimport { InputNumber, Space, Form } from 'antd';\nimport type { ProFieldFC } from '@ant-design/pro-components';\nimport useMergedState from 'rc-util/lib/hooks/useMergedState';\nimport { LOCALE } from '@/utils/numeral';\n\ntype ValidateStatus = Parameters<typeof Form.Item>[0]['validateStatus'];\n// 兼容代码-----------\nimport 'antd/lib/input-number/style';\n\nexport type Value = string | number | undefined | null;\n\nexport type ValuePair = Value[];\n\nexport type FieldAmountRuleProps = {\n  text: ValuePair;\n  placeholder?: string | string[];\n  separatorWidth?: number;\n};\n\n/**\n * 优惠券满减规则组件\n *\n * @param FieldAmountRuleProps\n */\nconst FieldAmountRule: ProFieldFC<FieldAmountRuleProps> = (\n  {\n    text,\n    mode,\n    render,\n    placeholder,\n    renderFormItem,\n    fieldProps,\n  },\n  ref,\n) => {\n  const { value, defaultValue, onChange, id, validator = [] } = fieldProps;\n\n  const [validate, setValidate] = useState([]);\n\n  const [valuePair, setValuePair] = useMergedState(() => defaultValue, {\n    value,\n    onChange,\n  });\n\n  if (mode === 'read') {\n    const dom = (\n      <span ref={ref}>\n        满 {text[0] || '-'}元 减 {text[1] || '-'}元\n      </span>\n    );\n    if (render) {\n      return render(text, { mode, ...fieldProps }, dom);\n    }\n    return dom;\n  }\n\n  if (mode === 'edit' || mode === 'update') {\n    const handleGroupBlur = () => {\n      if (Array.isArray(valuePair)) {\n        //   仅在两个值均为数字时才做比较并转换\n        const [value0, value1] = valuePair;\n        if (\n          typeof value0 === 'number' &&\n          typeof value1 === 'number' &&\n          value0 > value1\n        ) {\n          setValuePair([value1, value0]);\n        } else if (value0 === undefined && value1 === undefined) {\n          // 当两个值均为undefined时将值变为undefined，方便required处理\n          setValuePair(undefined);\n        }\n      }\n    };\n\n    const handleChange = (index: number, changedValue: Value) => {\n      const newValuePair = [...(valuePair || [])];\n      newValuePair[index] = changedValue === null ? undefined : changedValue;\n      setValuePair(newValuePair);\n\n      validate[index] = {...validator[index]?.(newValuePair)};\n      setValidate(validate);\n    };\n\n    const placeholderValue = fieldProps?.placeholder ||\n      placeholder || [\n      '请输入满减门槛',\n      '请输入优惠金额',\n    ];\n\n    const getInputNumberPlaceholder = (index: number) =>\n      Array.isArray(placeholderValue)\n        ? placeholderValue[index]\n        : placeholderValue;\n\n    const { className, ...restFieldProps } = fieldProps;\n\n    const dom = (\n      <Space size={10} \n        // onBlur={handleGroupBlur} \n        className={className}>\n       \n          <InputNumber\n            style={{width: '100%'}}\n            addonBefore=\"满\"\n            addonAfter={LOCALE.currency.symbol}\n            min={0}\n            max={5000}\n            {...restFieldProps}\n            placeholder={getInputNumberPlaceholder(0)}\n            id={`${id}-0`}\n            value={valuePair?.[0]}\n            defaultValue={defaultValue?.[0]}\n            onChange={(changedValue) => handleChange(0, changedValue)}\n          />\n\n          <InputNumber\n            style={{width: '100%'}}\n            addonBefore=\"减\"\n            addonAfter={LOCALE.currency.symbol}\n            min={0}\n            max={5000}\n            {...restFieldProps}\n            placeholder={getInputNumberPlaceholder(1)}\n            id={`${id}-1`}\n            value={valuePair?.[1]}\n            defaultValue={defaultValue?.[1]}\n            onChange={(changedValue) => handleChange(1, changedValue)}\n          />\n      \n        {/* <label htmlFor={`${id}-0`}>满</label>\n        <InputNumber<number>\n          prefix=\"￥\"\n          style={{width: '100%'}}\n          min={0}\n          {...restFieldProps}\n          placeholder={getInputNumberPlaceholder(0)}\n          id={`${id}-0`}\n          value={valuePair?.[0]}\n          defaultValue={defaultValue?.[0]}\n          onChange={(changedValue) => handleChange(0, changedValue)}\n        />\n        <label htmlFor={`${id}-1`}>减</label>\n        <InputNumber<number>\n          prefix=\"￥\"\n          style={{width: '100%'}}\n          min={0}\n          {...restFieldProps}\n          placeholder={getInputNumberPlaceholder(1)}\n          id={`${id}-1`}\n          value={valuePair?.[1]}\n          defaultValue={defaultValue?.[1]}\n          onChange={(changedValue) => handleChange(1, changedValue)}\n        /> */}\n      </Space>\n    );\n\n    if (renderFormItem) {\n      return renderFormItem(text, { mode, ...fieldProps }, dom);\n    }\n    \n    return dom;\n  }\n  return null;\n};\n\n/** 预置表单校验器 根据具体业务自定 */\nexport const validator = async (rule, value: ValuePair) => {\n  const [amount, discount] = value\n  \n  if (!amount && amount !== 0) {\n    throw new Error('请输入满减门槛');\n  }\n\n  if (!discount && discount !== 0) {\n    throw new Error('请输入优惠金额');\n  }\n};\n\nexport const FieldValidator = [(value: ValuePair) => {\n  const [amount, discount] = value\n  if (!amount && amount !== 0) {\n    return {\n      status: 'error',\n      help: '请输入满减门槛'\n    }\n  }\n\n  \n}, (value: ValuePair) => {\n  const [amount, discount] = value\n  if (!discount && discount !== 0) {\n    return {\n      status: 'error',\n      help: '请输入优惠金额'\n    }\n  }\n  if (discount as number < 0.01) {\n    return {\n      status: 'error',\n      help: '面额最小值是0.01元'\n    }\n  }\n\n  if (amount === 0) {\n    if (discount as number > 500) {\n      return {\n        status: 'error',\n        help: '门槛为0时，面额需小于等于500元'\n      }\n    } else {\n      if (discount as number > 10) {\n        // Message.warning('您正在配置无门槛且面额大于10元的优惠券，请确认是否配置正确');\n      }\n    }\n  } \n}];\n\nexport default React.forwardRef(FieldAmountRule);\n","import { WrappedProFormField } from '../index';\nimport FieldAmountRule from '@/components/pro/field/AmountRule'\n\nexport { validator, FieldValidator } from '@/components/pro/field/AmountRule'\nexport default WrappedProFormField(FieldAmountRule, 'AmountRule');\n","import { WrappedProFormField } from '../index';\nimport FieldUseTerm from '@/components/pro/field/UseTerm'\n\nexport default WrappedProFormField(FieldUseTerm, 'UseTerm');\n","/**\n * 优惠券公共字段组件\n *\n * sobird<i@sobird.me> at 2023/10/08 19:54:11 created.\n */\nimport React, { PropsWithChildren, ComponentProps } from 'react';\nimport { Space } from 'antd';\nimport {\n  ProForm,\n  ProFormText,\n  ProFormDateTimeRangePicker,\n  ProFormDigit,\n  ProFormSelect,\n} from '@ant-design/pro-components';\nimport ProFormCouponRule, { FieldValidator } from '@/components/pro/form/AmountRule';\nimport ProFormUseTerm from '@/components/pro/form/UseTerm';\nimport { CouponTargetEnum, CouponLimitCountMap } from '@/services/coupon';\n\nconst formItemLayout = {\n  labelCol: {\n    flex: '0 0 110px',\n  },\n};\n\nconst CouponForm: React.FC<PropsWithChildren<ComponentProps<typeof ProForm>>> = ({ children, ...props }) => {\n  return (\n    <ProForm\n      layout='horizontal'\n      {...formItemLayout}\n      submitter={{\n        render: (_, doms) => {\n          return <Space style={{ marginLeft: 110 }}>{doms}</Space>;\n        }\n      }}\n      {...props}\n    >\n      <ProFormText\n        readonly\n        getValueProps={value => {\n          return {\n            value: CouponTargetEnum[value],\n          };\n        }}\n        width='md'\n        name='target'\n        label='优惠券类型'\n      />\n\n      <ProFormText\n        width='lg'\n        name='name'\n        label='优惠券名称'\n        placeholder='请填写优惠券名称'\n        rules={[\n          { required: true, message: '请填写优惠券名称' },\n          { max: 10, message: '优惠券名称最多填写10个字' },\n        ]}\n      />\n      <ProFormText readonly width='md' name='displayName' label='优惠券文案' />\n\n      {/* 发放设置 */}\n      <ProFormDateTimeRangePicker\n        required\n        width='lg'\n        name='putTerm'\n        label='发放时间'\n        rules={[{ required: true, message: '请选择发放时间' }]}\n      />\n      <ProFormDigit\n        label='发放张数'\n        name='stock'\n        placeholder='请输入1-1,000,000的正整数'\n        width='sm'\n        min={1}\n        max={1000000}\n        rules={[{ required: true, message: '请填写发放张数' }]}\n      />\n      <ProFormCouponRule\n        fieldProps={{ validator: FieldValidator }}\n        placeholder={['请输入门槛', '请输入面额']}\n        name='rule'\n        label='门槛及面额'\n        width='lg'\n        rules={[{ required: true, message: '请填写门槛及面额' }]}\n      />\n      <ProFormSelect\n        name='limit'\n        label='每人限领张数'\n        valueEnum={CouponLimitCountMap}\n        placeholder='请选择'\n        width='sm'\n        rules={[{ required: true, message: '请选择每人限领张数' }]}\n      />\n      <ProFormUseTerm name='useTerm' label='使用时间' width='lg' required />\n      {children}\n    </ProForm>\n  );\n};\n\nexport default CouponForm;\n","/**\n * 优惠券详情页\n *\n * sobird<i@sobird.me> at 2023/09/16 11:12:40 created.\n */\n\nimport React, { useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { Form, Button } from 'antd';\nimport { ProFormDatePicker } from '@ant-design/pro-components';\nimport { EditOutlined } from '@ant-design/icons';\n\nimport CouponService from '@/services/coupon';\nimport PageContainer from '@/layout/page-container';\nimport CouponForm from '../components/coupon-form';\n\nconst BreadcrumbItem = [\n  {\n    title: '首页',\n    href: '/',\n  },\n  {\n    title: '营销中心',\n    path: '/',\n  },\n  {\n    title: '优惠券',\n    path: 'coupons',\n  },\n  {\n    title: '优惠券详情',\n    path: 'detail',\n  },\n];\n\nconst CouponDetail: React.FC = () => {\n  const navigate = useNavigate();\n  const params = useParams<{ id: string }>();\n  const [form] = Form.useForm();\n\n  useEffect(() => {\n    CouponService.detail(params.id).then(res => {\n      form.setFieldsValue(res);\n    });\n  }, []);\n\n  return (\n    <PageContainer\n      breadcrumb={{\n        items: BreadcrumbItem,\n      }}\n      title='优惠券详情'\n      // icon={<PlusCircleOutlined />}\n      extra={[\n        <Button onClick={() => navigate(-1)}>返回</Button>,\n        <Button type='primary' icon={<EditOutlined />} onClick={() => navigate(`/coupon/update/${params.id}`)}>\n          编辑\n        </Button>,\n      ]}\n    >\n      <div className='page-coupon-detail'>\n        <CouponForm form={form} submitter={false} disabled>\n          <ProFormDatePicker label='创建日期' width='lg' name='ctime' />\n        </CouponForm>\n      </div>\n    </PageContainer>\n  );\n};\n\nexport default CouponDetail;\n","/**\n * 优惠券服务\n *\n * sobird<i@sobird.me> at 2023/09/15 21:58:06 created.\n */\n\nimport http from '@mtm/shared/utils/http';\n\ninterface ISpu {\n  /** SPU ID */\n  id: string;\n  /** SPU名称 */\n  name: string;\n  /** SPU状态; 0:已下架, 1:已上架 */\n  status: number;\n  /** 库存 */\n  stock: number;\n  /** 最低价 */\n  minPrice: number;\n  /** 当前SPU下的SKU数量 */\n  skuCount: number;\n}\n\nexport interface ICouponEntity {\n  /** 优惠券ID */\n  id: string;\n  /** 优惠券名称 */\n  name: string;\n  /** 优惠券文案 */\n  displayName: string;\n  /** 优惠券类型; 0:满减券, 1:折扣券 */\n  type: 0 | 1;\n  /** 发券目标 */\n  target: 1 | 2 | 3;\n  /** 优惠券 门槛, 面额 */\n  rule: [number, number];\n  /** 优惠券库存 */\n  stock: number;\n  /** 每人限领张数 */\n  limit: number;\n  /** 发放时间段 开始时间, 结束时间 */\n  putTerm: [number, number];\n  /** 投放目标人群 -1:全部用户 新老客, 1:老客, 2:新老客 */\n  putCrowd: -1 | 1 | 2;\n  /**\n   * 使用期限 单位: 天\n   *\n   * 先判断useTerm[0]的值，该值 >0 认为 是券领取X天内有效;\n   * 该值<=0 或 false，认为是在useTerm[1]到useTerm[2]期间券可以进行使用\n   */\n  useTerm: [number, [number, number]];\n  /** 使用人群 */\n  useCrowd: -1 | 1 | 2;\n  /** 投放位置 */\n  position: number;\n  /** 发放数量 */\n  sendCount: number;\n  /** 当前余量 */\n  leftCount: number;\n  /** 优惠券状态; 未开始:0, 已开始(进行中):1, 已结束:2, 已撤销(已下线):6 */\n  status: 0 | 1 | 2 | 6;\n  /** 创建时间 时间戳 */\n  ctime: number;\n  /** 优惠券商品列表 */\n  spuList: ISpu[];\n  /** SPU ID 列表 */\n  spuIds: [];\n  /** 商家ID列表 */\n  wmPoiIds: number[];\n}\n\nexport interface ICouponPagination {\n  ps?: number;\n  pn?: number;\n  total: number;\n  list: ICouponEntity[];\n}\n\nexport const CouponTypeMap = new Map([\n  [0, '满减券'],\n  [1, '折扣券'],\n]);\n\nexport enum CouponTargetEnum {\n  '店铺商品券' = 1,\n  '店铺通用券' = 2,\n  '店铺客服体验券' = 3,\n}\n\nexport enum CouponStatusEnum {\n  '全部' = -1,\n  '未开始' = 0,\n  '进行中' = 1,\n  '已结束' = 2,\n  '已下线' = 6,\n}\n\nexport const CouponStatusMap = new Map([\n  [-1, '全部'],\n  [0, '未开始'],\n  [1, '进行中'],\n  [2, '已结束'],\n  [6, '已下线'],\n]);\n\nexport const CouponStatusColorMap = new Map([\n  [-1, ''],\n  [0, 'gray'],\n  [1, 'green'],\n  [2, 'blue'],\n  [6, 'red'],\n]);\n\nexport const CouponLimitCountMap = new Map([\n  [1, '1张'],\n  [2, '2张'],\n  [3, '3张'],\n  [4, '不限'],\n]);\n\nexport interface ICouponsParams {\n  ps?: number;\n  pn?: number;\n  status?: number;\n  stime?: number;\n  etime?: number;\n}\n\nconst CouponService = {\n  async list(params?: ICouponsParams) {\n    return http.get<ICouponPagination>('/merchant/coupons', params);\n  },\n  detail(id: string) {\n    return http.get<ICouponEntity>('/merchant/coupons', { id });\n  },\n  delete(id: string) {\n    return http.delete<ICouponEntity>('/merchant/coupons', { id });\n  },\n  create(data: ICouponEntity) {\n    return http.post<ICouponEntity>('/merchant/coupons', data);\n  },\n  update(data: ICouponEntity) {\n    return http.patch<ICouponEntity>('/merchant/coupons', data);\n  },\n};\n\nexport default CouponService;\n"],"names":["RangePicker","text","mode","fieldProps","render","renderFormItem","value","onChange","defaultValue","newValue","day","rangePickerValue","item","radioValue","setRadioValue","fieldValue","setFieldValue","dom","onRadioChange","e","triggerChange","_radioValue","changedValue","newFieldValue","handleChange","index","router","itemRender","params","items","paths","path","last","children","breadcrumb","title","icon","description","extra","props","WrappedProFormField","ProFieldComponent","valueType","proFieldProps","rest","LOCALE","precision","format","roundingFunction","space","output","string","FieldAmountRule","placeholder","ref","id","validator","validate","setValidate","valuePair","setValuePair","useMergedState","handleGroupBlur","value0","value1","newValuePair","placeholderValue","getInputNumberPlaceholder","className","restFieldProps","rule","amount","discount","FieldValidator","formItemLayout","_","doms","BreadcrumbItem","navigate","form","res","CouponTypeMap","CouponTargetEnum","CouponStatusEnum","CouponStatusMap","CouponStatusColorMap","CouponLimitCountMap","data"],"sourceRoot":""}